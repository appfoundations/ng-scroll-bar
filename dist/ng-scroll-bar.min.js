!function(e,o){"use strict";!function(){e.module("ng-scroll-bar",[])}(),function(){function t(t,n){function l(l,s,r,i){function c(e){if(s[0].clientHeight!==s[0].scrollHeight){var t=o.event||e,n=(t.detail?-240*t.detail:t.wheelDelta)<1?120:-120;if(n){e.preventDefault(),e.stopImmediatePropagation();var l=s[0].scrollHeight,r=s[0].scrollTop;s[0].scrollTop=Math.min(l,r+n)}}}function u(e){e.preventDefault(),e.stopImmediatePropagation(),e.target==x?(g=!0,b=e.screenY,w=s[0].scrollTop,m.on("mouseup",a),m.on("mousemove",f)):e.target==D?(d=!0,y=e.screenX,T=s[0].scrollLeft,m.on("mouseup",a),m.on("mousemove",f)):"touchstart"===e.type&&1===e.touches.length&&(e.stopImmediatePropagation(),g=!0,b=e.touches[0].screenY,w=s[0].scrollTop,d=!0,y=e.touches[0].screenX,T=s[0].scrollLeft,m.on("touchend",a),m.on("touchmove",f))}function a(){d=!1,g=!1,m.off("mouseup",a),m.off("mousemove",f),m.off("touchend",a),m.off("touchmove",f)}function f(e){e.preventDefault();var o="touchmove"===e.type,t=o?-1:1;if(o&&(e.screenX=e.touches[0].screenX,e.screenY=e.touches[0].screenY),g){var n=s[0].clientHeight,l=s[0].scrollHeight,r=(e.screenY-b)*t,i=o?l:n-n/l,c=w/l*i+r,u=c/i*l;s[0].scrollTop=u>l?l:u}if(d){var a=s[0].clientWidth,f=s[0].scrollWidth,p=(e.screenX-y)*t,h=o?f:a-a/f,v=T/f*h+p,m=v/h*f;s[0].scrollLeft=m>f?f:m}}function p(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!v){v=!0;var e=s[0].clientHeight,o=s[0].scrollHeight,t=s[0].clientWidth,n=s[0].scrollWidth;if(e==o)s[0].scrollTop=0,x.style.opacity=0,x.style.pointerEvents="none";else{var l=s[0].scrollTop,r=s[0].scrollLeft,i=e/o,c=e-e/o,u=l/o*c;x.style.pointerEvents="all",x.style.opacity="",x.style.height=100*i+"%",x.style.top=l+u+"px",x.style.right=-r+"px"}if(t==n)s[0].scrollLeft=0,D.style.opacity=0,D.style.pointerEvents="none";else{var a=s[0].scrollLeft,f=s[0].scrollTop,p=t/n,h=t-t/n,m=a/n*h;D.style.pointerEvents="all",D.style.opacity="",D.style.width=100*p+"%",D.style.left=a+m+"px",D.style.bottom=-f+"px"}v=!1}}var h=!0,v=!1,m=e.element(t),d=!1,g=!1,y=void 0,b=void 0,w=void 0,T=void 0,H=e.element('<div class="ng-scroll-bar-thumb-y"></div>'),L=e.element('<div class="ng-scroll-bar-thumb-x"></div>');s.append(H),s.append(L);var x=H[0],D=L[0],X=new MutationObserver(function(e,o){h&&(h=!1,p()),e.some(function(e){if(e.target!==x&&e.target!==D)return p(),!0})}),Y=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";s.on("scroll",p),s.on(Y,c),s.on("touchstart",u),H.on("touchstart",u),L.on("touchstart",u),H.on("mousedown",u),L.on("mousedown",u),m.on("resize",p),X.observe(s[0],{attributes:!0,childList:!0,subtree:!0,characterData:!0}),l.$on("$destroy",function(){s.off("scroll",p),s.off(Y,c),H.off("mousedown",u),L.off("mousedown",u),m.off("mouseup",a),m.off("mousemove",f),m.off("resize",p)}),n(p,100)}return{restrict:"A",bindings:{},controller:e.noop,link:l}}t.$inject=["$window","$timeout"],e.module("ng-scroll-bar").directive("ngScrollBar",t)}()}(angular,window);