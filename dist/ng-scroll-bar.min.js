!function(e,o){"use strict";!function(){e.module("ng-scroll-bar",[])}(),function(){function t(t,n){function l(l,s,r,c){function i(e){if(s[0].clientHeight!==s[0].scrollHeight){var t=o.event||e,n=(t.detail?-240*t.detail:t.wheelDelta)<1?120:-120;if(n){e.preventDefault(),e.stopImmediatePropagation();var l=s[0].scrollHeight,r=s[0].scrollTop;s[0].scrollTop=Math.min(l,r+n)}}}function u(e){e.stopImmediatePropagation(),"touchstart"===e.type&&1===e.touches.length&&(y=!0,w=e.touches[0].screenY,T=s[0].scrollTop,g=!0,b=e.touches[0].screenX,L=s[0].scrollLeft,d.on("touchend",f),d.on("touchmove",h))}function a(e){e.preventDefault(),e.stopImmediatePropagation(),e.target==D?(y=!0,w=e.screenY,T=s[0].scrollTop,d.on("mouseup",f),d.on("mousemove",h)):e.target==X?(g=!0,b=e.screenX,L=s[0].scrollLeft,d.on("mouseup",f),d.on("mousemove",h)):"touchstart"===e.type&&1===e.touches.length&&(e.stopImmediatePropagation(),y=!0,w=e.touches[0].screenY,T=s[0].scrollTop,g=!0,b=e.touches[0].screenX,L=s[0].scrollLeft,d.on("touchend",f),d.on("touchmove",h))}function f(){g=!1,y=!1,d.off("mouseup",f),d.off("mousemove",h),d.off("touchend",f),d.off("touchmove",h)}function h(e){e.preventDefault();var o="touchmove"===e.type,t=o?-1:1;if(o&&(e.screenX=e.touches[0].screenX,e.screenY=e.touches[0].screenY),y){var n=s[0].clientHeight,l=s[0].scrollHeight,r=(e.screenY-w)*t,c=o?l:n-n/l,i=T/l*c+r,u=i/c*l;s[0].scrollTop=u>l?l:u}if(g){var a=s[0].clientWidth,f=s[0].scrollWidth,h=(e.screenX-b)*t,p=o?f:a-a/f,m=L/f*p+h,v=m/p*f;s[0].scrollLeft=v>f?f:v}}function p(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!v){v=!0;var e=s[0].clientHeight,o=s[0].scrollHeight,t=s[0].clientWidth,n=s[0].scrollWidth;if(e==o)s[0].scrollTop=0,D.style.opacity=0,D.style.pointerEvents="none";else{var l=s[0].scrollTop,r=s[0].scrollLeft,c=e/o,i=e-e/o,u=l/o*i;D.style.pointerEvents="all",D.style.opacity="",D.style.height=100*c+"%",D.style.top=l+u+"px",D.style.right=-r+"px"}if(t==n)s[0].scrollLeft=0,X.style.opacity=0,X.style.pointerEvents="none";else{var a=s[0].scrollLeft,f=s[0].scrollTop,h=t/n,p=t-t/n,m=a/n*p;X.style.pointerEvents="all",X.style.opacity="",X.style.width=100*h+"%",X.style.left=a+m+"px",X.style.bottom=-f+"px"}v=!1}}var m=!0,v=!1,d=e.element(t),g=!1,y=!1,b=void 0,w=void 0,T=void 0,L=void 0,H=e.element('<div class="ng-scroll-bar-thumb-y"></div>'),x=e.element('<div class="ng-scroll-bar-thumb-x"></div>');s.append(H),s.append(x);var D=H[0],X=x[0],Y=new MutationObserver(function(e,o){m&&(m=!1,p()),e.some(function(e){if(e.target!==D&&e.target!==X)return p(),!0})}),$=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";s.on("scroll",p),s.on($,i),s.on("touchstart",u),H.on("touchstart",u),x.on("touchstart",u),H.on("mousedown",a),x.on("mousedown",a),d.on("resize",p),Y.observe(s[0],{attributes:!0,childList:!0,subtree:!0,characterData:!0}),l.$on("$destroy",function(){s.off("scroll",p),s.off($,i),H.off("mousedown",a),x.off("mousedown",a),d.off("mouseup",f),d.off("mousemove",h),d.off("resize",p)}),n(p,100)}return{restrict:"A",bindings:{},controller:e.noop,link:l}}t.$inject=["$window","$timeout"],e.module("ng-scroll-bar").directive("ngScrollBar",t)}()}(angular,window);